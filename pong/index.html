<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #252525; 
      text-align: center; 
    }
    #ca {
      border: 1px solid #000000;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 1); 
      margin: 20px auto;
    }
    #score {
      font-size: 24px;
      font-weight: bold;
      color: #fff;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <canvas id="ca" width="720" height="480" style="background-color: #000000;"></canvas>
  <div id="score">Player 1: 0 - Player 2: 0</div>
  <script>
    let ctx = ca.getContext('2d');
    let p1 = 80;
    let p2 = 200;
    let key = {};
    let ball = {
      x: 360,
      y: 240,
      speedX: 3,
      speedY: 0
    };
    let score = { p1: 0, p2: 0 }; 
    document.addEventListener('keydown', e => key[e.keyCode] = true);
    document.addEventListener('keyup', e => key[e.keyCode] = false);
    draw();
    setInterval(loop, 1000 / 60)

    function draw() {
      ctx.fillStyle = '#000'; 
      ctx.fillRect(0, 0, 720, 480);
      ctx.fillStyle = '#fff'; 
      ctx.fillRect(10, p1, 10, 80);
      ctx.fillRect(700, p2, 10, 80);
      ctx.fillStyle = '#ccc'; /* Lighter ball */
      ctx.fillRect(ball.x, ball.y, 10, 10);
      requestAnimationFrame(draw);
    }

    function loop() {
      if (key[38]) {
        p2 = p2 - 5;
      }

      if (key[40]) {
        p2 = p2 + 5;
      }

      if (key[87]) {
        p1 = p1 - 5;
      }

      if (key[83]) {
        p1 = p1 + 5;
      }
      ball.x = ball.x + ball.speedX;
      ball.y = ball.y + ball.speedY;

      if (ball.x < 20 || ball.x > 690) {
        if (ball.y > p1 && ball.y < p1 + 80 && ball.speedX < 0) {
          ball.speedX = -ball.speedX;
          ball.speedY = (ball.y - p1 - 40) * 0.1;
        }

        if (ball.y > p2 && ball.y < p2 + 80 && ball.speedX > 0) {
          ball.speedX = -ball.speedX;
          ball.speedY = (ball.y - p2 - 40) * 0.1;
        }
      }

      if(ball.y < 0 || ball.y > 480) {
        ball.speedY = -ball.speedY;
      }

      if (ball.x < 0) {
        score.p2++; // Increment score for player 2
        ball = {
          x: 360,
          y: 240,
          speedX: 3,
          speedY: 0
        };
      }

      if (ball.x > 720) {
        score.p1++; // Increment score for player 1
        ball = {
          x: 360,
          y: 240,
          speedX: 3,
          speedY: 0
        };
      }

      // Update the score display
      document.getElementById('score').innerHTML = `Player 1: ${score.p1} - Player 2: ${score.p2}`;
    }
  </script>
</body>
</html>